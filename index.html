<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>DHBVN Bill Estimator</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet" />
  <style>
    body {
      font-family: 'Inter', sans-serif;
      margin: 0;
      padding: 0;
      background: linear-gradient(to right top, #dbeafe, #f0f9ff);
      overflow-x: hidden;
      overflow-y: auto;
      position: relative;
    }

    .bubble {
      position: absolute;
      border-radius: 50%;
      opacity: 0.5;
      animation: floatBlink 2s ease-in-out infinite;
      z-index: 0;
      pointer-events: none;
    }

    @keyframes floatBlink {

      0%,
      100% {
        transform: translateY(0);
        opacity: 0.3;
      }

      50% {
        transform: translateY(-20px);
        opacity: 0.9;
      }
    }

    h2 {
      color: #0f172a;
      margin: 20px 0 10px;
      text-align: center;
      position: relative;
      z-index: 1;
      font-size: 1.25rem;
    }

    .container {
      background: #ffffff;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
      border-radius: 15px;
      padding: 16px;
      margin: 10px auto;
      max-width: 480px;
      width: 95%;
      position: relative;
      z-index: 1;
    }

    label {
      font-weight: bold;
      display: block;
      margin-top: 10px;
      color: #334155;
      font-size: 14px;
    }

    input,
    select {
      width: 100%;
      padding: 10px;
      margin: 5px 0 15px;
      border: 1px solid #cbd5e1;
      border-radius: 8px;
      font-size: 14px;
    }

    button {
      background: linear-gradient(to right, #4ade80, #22c55e);
      color: white;
      padding: 12px;
      border: none;
      border-radius: 8px;
      width: 100%;
      font-weight: bold;
      font-size: 16px;
      cursor: pointer;
      transition: background-color 0.3s ease-in-out;
    }

    button:hover {
      background: linear-gradient(to right, #16a34a, #15803d);
    }

    .result {
      background-color: #fef9c3;
      border-left: 5px solid #facc15;
      padding: 15px;
      margin-top: 15px;
      border-radius: 8px;
      color: #713f12;
      font-weight: bold;
      display: none;
      font-size: 14px;
    }

    .icon {
      font-size: 28px;
      text-align: center;
      margin-bottom: 8px;
    }

    @media (max-width: 375px) {
      h2 {
        font-size: 1rem;
      }

      .container {
        padding: 12px;
      }

      label,
      input,
      select,
      button,
      .result {
        font-size: 13px;
      }

      .icon {
        font-size: 24px;
      }
    }
  </style>

</head>

<body>

  <!-- 100 Bubbles -->
  <script>
    const colors = ['#f87171', '#fbbf24', '#34d399', '#60a5fa', '#a78bfa', '#f472b6', '#38bdf8', '#4ade80', '#facc15', '#c084fc'];
    for (let i = 0; i < 100; i++) {
      const bubble = document.createElement('div');
      bubble.className = 'bubble';
      const size = Math.floor(Math.random() * 15) + 10;
      const top = Math.random() * 100;
      const left = Math.random() * 100;
      const color = colors[Math.floor(Math.random() * colors.length)];
      bubble.style.width = `${size}px`;
      bubble.style.height = `${size}px`;
      bubble.style.top = `${top}%`;
      bubble.style.left = `${left}%`;
      bubble.style.backgroundColor = color;
      document.body.appendChild(bubble);
    }
  </script>

  <h2>ðŸ”Œ DHBVN Electricity Bill Estimator</h2>

  <div class="container">
    <div class="icon">ðŸ§®</div>
    <h3>1. Bill Calculator (Category I)</h3>
    <label for="units">Enter 2-Month Units Consumed:</label>
    <input type="number" id="units" placeholder="e.g., 150" />
    <label for="credit">Do you have previous credit?</label>
    <select id="credit">
      <option value="yes">Yes</option>
      <option value="no" selected>No</option>
    </select>
    <button onclick="calculateBill()">Calculate Bill</button>
    <div class="result" id="billResult"></div>
  </div>

  <div class="container">
    <div class="icon">ðŸ’¸</div>
    <h3>2. Interest on Security Deposit</h3>
    <label for="securityAmount">Security Deposit (â‚¹):</label>
    <input type="number" id="securityAmount" placeholder="e.g., 1500" />
    <label for="interestRate">Interest Rate (% per annum):</label>
    <input type="number" id="interestRate" step="0.1" value="2.7" />
    <button onclick="calculateSecurityInterest()">Calculate Interest</button>
    <div class="result" id="securityResult"></div>
  </div>

  <div class="container">
    <div class="icon">ðŸ“ˆ</div>
    <h3>3. Advance Payment Benefit</h3>
    <label for="advanceAmount">Advance Amount (â‚¹):</label>
    <input type="number" id="advanceAmount" placeholder="e.g., 2000" />
    <label for="advanceRate">Interest Rate (% per annum):</label>
    <input type="number" id="advanceRate" step="0.1" value="3" />
    <label for="months">Number of Months:</label>
    <input type="number" id="months" value="12" />
    <button onclick="calculateAdvanceBenefit()">Calculate Saving</button>
    <div class="result" id="advanceResult"></div>
  </div>

  <script>
    function calculateBill() {
      const units = parseFloat(document.getElementById("units").value);
      const credit = document.getElementById("credit").value === "yes";
      const result = document.getElementById("billResult");

      if (isNaN(units) || units <= 0) {
        result.style.display = 'block';
        result.style.color = 'red';
        result.innerText = "Please enter a valid unit amount.";
        return;
      }

      const monthlyUnits = units / 2;
      let energyPerMonth = 0;
      let breakdown = "<strong>Energy Charge Breakdown (1 month):</strong><br>";

      if (monthlyUnits <= 50) {
        energyPerMonth = monthlyUnits * 2;
        breakdown += `${monthlyUnits.toFixed(2)} x â‚¹2.00 = â‚¹${(monthlyUnits * 2).toFixed(2)}<br>`;
      } else if (monthlyUnits <= 100) {
        energyPerMonth = 50 * 2 + (monthlyUnits - 50) * 2.5;
        breakdown += `50 x â‚¹2.00 = â‚¹100.00<br>`;
        breakdown += `${(monthlyUnits - 50).toFixed(2)} x â‚¹2.50 = â‚¹${((monthlyUnits - 50) * 2.5).toFixed(2)}<br>`;
      } else if (monthlyUnits <= 200) {
        energyPerMonth = (50 * 2) + (50 * 2.5) + (monthlyUnits - 100) * 3.25;
        breakdown += `50 x â‚¹2.00 = â‚¹100.00<br>`;
        breakdown += `50 x â‚¹2.50 = â‚¹125.00<br>`;
        breakdown += `${(monthlyUnits - 100).toFixed(2)} x â‚¹3.25 = â‚¹${((monthlyUnits - 100) * 3.25).toFixed(2)}<br>`;
      } else if (monthlyUnits <= 400) {
        energyPerMonth = (50 * 2) + (50 * 2.5) + (100 * 3.25) + (monthlyUnits - 200) * 4.7;
        breakdown += `50 x â‚¹2.00 = â‚¹100.00<br>`;
        breakdown += `50 x â‚¹2.50 = â‚¹125.00<br>`;
        breakdown += `100 x â‚¹3.25 = â‚¹325.00<br>`;
        breakdown += `${(monthlyUnits - 200).toFixed(2)} x â‚¹4.70 = â‚¹${((monthlyUnits - 200) * 4.7).toFixed(2)}<br>`;
      } else {
        energyPerMonth = (50 * 2) + (50 * 2.5) + (100 * 3.25) + (200 * 4.7) + (monthlyUnits - 400) * 5.7;
        breakdown += `50 x â‚¹2.00 = â‚¹100.00<br>`;
        breakdown += `50 x â‚¹2.50 = â‚¹125.00<br>`;
        breakdown += `100 x â‚¹3.25 = â‚¹325.00<br>`;
        breakdown += `200 x â‚¹4.70 = â‚¹940.00<br>`;
        breakdown += `${(monthlyUnits - 400).toFixed(2)} x â‚¹5.70 = â‚¹${((monthlyUnits - 400) * 5.7).toFixed(2)}<br>`;
      }

      // 1 month charges
      const fixedMonthly = credit ? 0 : 115;
      const dutyMonthly = energyPerMonth * 0.05;
      const taxMonthly = energyPerMonth * 0.02;
      const totalMonthly = energyPerMonth + fixedMonthly + dutyMonthly + taxMonthly;

      // 2 months charges
      const totalEnergy = energyPerMonth * 2;
      const fixed = fixedMonthly * 2;
      const duty = totalEnergy * 0.05;
      const tax = totalEnergy * 0.02;
      const total = totalEnergy + fixed + duty + tax;

      result.style.display = 'block';
      result.style.color = '#713f12';
      result.innerHTML = `
    Monthly Avg Units: <strong>${monthlyUnits.toFixed(2)}</strong><br><br>
    ${breakdown}
    <hr>
    <strong>1 Month Bill:</strong><br>
    Energy Charges: â‚¹${energyPerMonth.toFixed(2)}<br>
    Fixed Charges: â‚¹${fixedMonthly.toFixed(2)}<br>
    Electricity Duty (5%): â‚¹${dutyMonthly.toFixed(2)}<br>
    Municipal Tax (2%): â‚¹${taxMonthly.toFixed(2)}<br>
    <strong>Total (1 month): â‚¹${totalMonthly.toFixed(2)}</strong><br><br>

    <strong>2 Month Bill:</strong><br>
    Energy Charges: â‚¹${totalEnergy.toFixed(2)}<br>
    Fixed Charges: â‚¹${fixed.toFixed(2)}<br>
    Electricity Duty (5%): â‚¹${duty.toFixed(2)}<br>
    Municipal Tax (2%): â‚¹${tax.toFixed(2)}<br>
    <hr><strong>Total Bill (2 months): â‚¹${total.toFixed(2)}</strong>
  `;
    }


    function calculateSecurityInterest() {
      const amount = parseFloat(document.getElementById("securityAmount").value);
      const rate = parseFloat(document.getElementById("interestRate").value);
      const result = document.getElementById("securityResult");

      if (isNaN(amount) || amount <= 0 || isNaN(rate)) {
        result.style.display = 'block';
        result.style.color = 'red';
        result.innerText = "Please enter valid values.";
        return;
      }

      const interest = amount * (rate / 100);
      result.style.display = 'block';
      result.style.color = '#713f12';
      result.innerHTML = `Annual Interest: â‚¹<strong>${interest.toFixed(2)}</strong>`;
    }

    function calculateAdvanceBenefit() {
      const advance = parseFloat(document.getElementById("advanceAmount").value);
      const rate = parseFloat(document.getElementById("advanceRate").value);
      const months = parseFloat(document.getElementById("months").value);
      const result = document.getElementById("advanceResult");

      if (isNaN(advance) || advance <= 0 || isNaN(rate) || isNaN(months) || months <= 0) {
        result.style.display = 'block';
        result.style.color = 'red';
        result.innerText = "Enter valid advance, rate and duration.";
        return;
      }

      const fixedSave = 115 * months;
      const interest = advance * (rate / 100) * (months / 12);
      const total = fixedSave + interest;

      result.style.display = 'block';
      result.style.color = '#713f12';
      result.innerHTML = `Fixed Charge Saved: â‚¹<strong>${fixedSave.toFixed(2)}</strong><br>
      Interest Earned: â‚¹<strong>${interest.toFixed(2)}</strong><br>
      <hr><strong>Total Saving: â‚¹${total.toFixed(2)}</strong>`;
    }
  </script>
</body>

</html>
